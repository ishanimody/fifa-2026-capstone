# Sprint 2 - File Structure & Setup Guide

## Complete Project Structure

```
worldcup-smuggling-intelligence/
‚îÇ
‚îú‚îÄ‚îÄ src/                                    # Main application code
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                         # Make src a package
‚îÇ   ‚îú‚îÄ‚îÄ app.py                              # Flask application (ALREADY EXISTS)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ models/                             # Database models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                     # Import all models here
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py                       # NEW: SQLAlchemy models
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ scrapers/                           # Web scrapers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ iom_scraper.py                  # NEW: IOM Missing Migrants scraper
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cbp_scraper.py                  # NEW: CBP statistics scraper
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ base_scraper.py                 # NEW: Base scraper class (optional)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ routes/                             # API routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main_routes.py                  # NEW: Main page routes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api_routes.py                   # NEW: API endpoints
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ utils/                              # Utility functions
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ data_validator.py               # NEW: Data validation
‚îÇ       ‚îî‚îÄ‚îÄ geo_utils.py                    # NEW: Geospatial utilities
‚îÇ
‚îú‚îÄ‚îÄ scripts/                                # Standalone scripts
‚îÇ   ‚îú‚îÄ‚îÄ geocode_venues.py                   # ALREADY EXISTS from Sprint 1
‚îÇ   ‚îú‚îÄ‚îÄ geocode_venues_google.py            # ALREADY EXISTS from Sprint 1
‚îÇ   ‚îú‚îÄ‚îÄ run_scraper.py                      # NEW: Run scrapers manually
‚îÇ   ‚îú‚îÄ‚îÄ setup_database.py                   # NEW: Initialize database
‚îÇ   ‚îî‚îÄ‚îÄ import_venues.py                    # NEW: Import venue data to DB
‚îÇ
‚îú‚îÄ‚îÄ data/                                   # Data storage
‚îÇ   ‚îú‚îÄ‚îÄ raw/                                # Raw downloaded data
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .gitkeep                        # Keep folder in git
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ iom_missing_migrants_*.csv      # Downloaded IOM data
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ processed/                          # Cleaned/processed data
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .gitkeep
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ iom_processed.csv               # Processed data
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ geojson/                            # GeoJSON files
‚îÇ       ‚îú‚îÄ‚îÄ worldcup_2026_venues.geojson    # ALREADY EXISTS from Sprint 1
‚îÇ       ‚îî‚îÄ‚îÄ smuggling_incidents.geojson     # NEW: Generated from DB
‚îÇ
‚îú‚îÄ‚îÄ templates/                              # HTML templates
‚îÇ   ‚îú‚îÄ‚îÄ index.html                          # ALREADY EXISTS
‚îÇ   ‚îú‚îÄ‚îÄ base.html                           # NEW: Base template
‚îÇ   ‚îî‚îÄ‚îÄ map.html                            # NEW: Map viewer page
‚îÇ
‚îú‚îÄ‚îÄ static/                                 # Static files
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style.css                       # NEW: Custom styles
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ map.js                          # NEW: Map JavaScript
‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îÇ       ‚îî‚îÄ‚îÄ logo.png                        # Optional
‚îÇ
‚îú‚îÄ‚îÄ tests/                                  # Unit tests
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_scrapers.py                    # NEW: Test scrapers
‚îÇ   ‚îî‚îÄ‚îÄ test_models.py                      # NEW: Test database models
‚îÇ
‚îú‚îÄ‚îÄ docs/                                   # Documentation
‚îÇ   ‚îú‚îÄ‚îÄ project_charter.md                  # ALREADY EXISTS from Sprint 1
‚îÇ   ‚îú‚îÄ‚îÄ sprint1_summary.md                  # ALREADY EXISTS from Sprint 1
‚îÇ   ‚îú‚îÄ‚îÄ sprint2_plan.md                     # NEW: Sprint 2 documentation
‚îÇ   ‚îî‚îÄ‚îÄ database_schema.md                  # NEW: Database documentation
‚îÇ
‚îú‚îÄ‚îÄ migrations/                             # Database migrations (created by Alembic)
‚îÇ   ‚îî‚îÄ‚îÄ versions/                           # Migration scripts (auto-generated)
‚îÇ
‚îú‚îÄ‚îÄ logs/                                   # Application logs
‚îÇ   ‚îú‚îÄ‚îÄ .gitkeep
‚îÇ   ‚îî‚îÄ‚îÄ scraper.log                         # NEW: Scraper logs
‚îÇ
‚îú‚îÄ‚îÄ config/                                 # Configuration files
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ config.py                           # NEW: App configuration
‚îÇ
‚îú‚îÄ‚îÄ .env                                    # Environment variables (ALREADY EXISTS)
‚îú‚îÄ‚îÄ .gitignore                              # Git ignore file (ALREADY EXISTS)
‚îú‚îÄ‚îÄ requirements.txt                        # Python dependencies (ALREADY EXISTS)
‚îú‚îÄ‚îÄ README.md                               # Project README
‚îî‚îÄ‚îÄ run.py                                  # NEW: Application entry point

```

---

## Step-by-Step File Creation for Sprint 2

### Step 1: Create All Required Directories

```bash
# Navigate to your project root
cd C:\Users\Ishani Mody\worldcup-smuggling-intelligence

# Create all new directories
mkdir src\models
mkdir src\scrapers
mkdir src\routes
mkdir src\utils
mkdir scripts
mkdir tests
mkdir docs
mkdir logs
mkdir config
mkdir migrations

# Create .gitkeep files to preserve empty directories in git
type nul > data\raw\.gitkeep
type nul > data\processed\.gitkeep
type nul > logs\.gitkeep
```

### Step 2: Create __init__.py Files

```bash
# Create empty __init__.py files to make directories Python packages
type nul > src\__init__.py
type nul > src\models\__init__.py
type nul > src\scrapers\__init__.py
type nul > src\routes\__init__.py
type nul > src\utils\__init__.py
type nul > config\__init__.py
type nul > tests\__init__.py
```

---

## File-by-File Placement Guide

### 1. Database Models
**File:** `src/models/models.py`
**Content:** The SQLAlchemy models artifact I created
**Purpose:** Define database schema

```bash
# Create the file
notepad src\models\models.py
# Then paste the database schema code
```

### 2. IOM Scraper
**File:** `src/scrapers/iom_scraper.py`
**Content:** The IOM scraper artifact I created
**Purpose:** Download and process IOM data

```bash
notepad src\scrapers\iom_scraper.py
# Paste the IOM scraper code
```

### 3. Updated app.py
**File:** `src/app.py` (REPLACE existing)
**Content:** Updated Flask app with database integration

### 4. Database Setup Script
**File:** `scripts/setup_database.py`
**Purpose:** Initialize database tables

### 5. Configuration File
**File:** `config/config.py`
**Purpose:** Centralize configuration

---

## Quick Setup Commands

Run these in order:

```bash
# 1. Navigate to project
cd C:\Users\Ishani Mody\worldcup-smuggling-intelligence

# 2. Activate virtual environment
venv\Scripts\activate

# 3. Create directory structure
mkdir src\models src\scrapers src\routes src\utils scripts tests logs config

# 4. Create __init__.py files
type nul > src\__init__.py
type nul > src\models\__init__.py
type nul > src\scrapers\__init__.py
type nul > src\routes\__init__.py
type nul > src\utils\__init__.py
type nul > config\__init__.py
type nul > tests\__init__.py

# 5. Create .gitkeep files
type nul > data\raw\.gitkeep
type nul > data\processed\.gitkeep
type nul > logs\.gitkeep

# 6. Verify structure
tree /F
```

---

## Files to Create Next (I'll provide the code)

1. ‚úÖ `src/models/models.py` - Database models (READY)
2. ‚úÖ `src/scrapers/iom_scraper.py` - IOM scraper (READY)
3. ‚è≥ `src/scrapers/cbp_scraper.py` - CBP scraper (NEXT)
4. ‚è≥ `scripts/setup_database.py` - Database initialization
5. ‚è≥ `scripts/run_scraper.py` - Manual scraper runner
6. ‚è≥ `config/config.py` - Configuration
7. ‚è≥ `src/app.py` - Updated Flask app

---

## What to Do Right Now

**Option A: Manual Creation**
1. Create the directories using the commands above
2. I'll provide each file's code one by one
3. You copy/paste into the correct location

**Option B: I'll Create Complete Files**
1. Tell me when directories are created
2. I'll give you complete, ready-to-use files
3. You save them in the correct locations

**Which approach do you prefer?**

After you create the directory structure, let me know and I'll provide:
- Updated `src/app.py` with database integration
- `scripts/setup_database.py` to initialize your database
- `scripts/run_scraper.py` to test the IOM scraper
- `config/config.py` for configuration management

---

## Verification Checklist

After creating files, verify with:

```bash
# Check directory structure
tree /F src

# Check if Python can import
python -c "from src.models import models; print('Models imported!')"
python -c "from src.scrapers import iom_scraper; print('Scraper imported!')"

# Verify all __init__.py files exist
dir /s /b *__init__.py
```

---

**Ready to proceed? Let me know when you've created the directories!** üöÄ
